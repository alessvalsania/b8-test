<div class="rounded-2xl">
  <!-- Desktop Layout -->
  <div class="flex gap-4">
    <!-- Main Image -->
    <div class="flex-1 relative overflow-hidden rounded-xl group max-h-[564px] my-auto">
      <!-- Progress Bar -->
      @if (isAutoPlaying() && images().length > 1) {
      <div class="absolute bottom-0 left-0 right-0 h-1 bg-black/30 z-20">
        <div class="h-full bg-green-400 transition-all duration-100 ease-linear" [style.width.%]="progress()">
        </div>
      </div>
      }

      <!-- Main Image -->
      <div class="relative z-10 aspect-video">
        <img [src]="images()[currentIndex()]" [alt]="'Gallery image ' + (currentIndex() + 1)"
          class="w-full h-full object-cover transition-all duration-700 ease-out transform group-hover:scale-105" />
      </div>
    </div>
    <!-- Thumbnails -->
    @if (images().length > 1) {
    <div
      class="flex flex-col w-24 max-h-[564px] h-fit py-3 px-2 overflow-y-auto justify-between scrollbar-thin scrollbar-thumb-light-gray scrollbar-track-gray mx-auto">
      <div class="flex flex-col gap-2 py-2">
        @for (image of images(); track $index; let i = $index) {
        <button (click)="onThumbnailClick(i)"
          class="relative group transition-all duration-300 hover:scale-105 rounded-lg flex-shrink-0"
          [class.ring-2]="i === currentIndex()" [class.ring-green-400]="i === currentIndex()"
          [class.shadow-lg]="i === currentIndex()" [class.shadow-green-400]="i === currentIndex()">

          <div class="w-20 h-20 rounded-lg overflow-hidden bg-black/30">
            <img [src]="image" [alt]="'Thumbnail ' + (i + 1)"
              class="w-full h-full object-cover transition-all duration-300 group-hover:brightness-110"
              [class.brightness-50]="i !== currentIndex()" [class.brightness-100]="i === currentIndex()" />
          </div>

        </button>
        }
      </div>
    </div>
    }
  </div>
</div>